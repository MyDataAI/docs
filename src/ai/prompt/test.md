---
title: 前言
icon: fa-solid fa-house
order: 1
---

# 掌握提示词工程：OpenAI提示词优化的8大原则

本篇文章帮助你想快速的了解提示词工程，以便更好的“驾驭”大模型。

## 提示词工程的工作原理
提示词工程是指通过精心设计和优化输入文本，引导自然语言处理模型生成符合预期的高质量输出。它的工作原理在于明确任务目标、设计初始提示、不断测试优化，并通过评估确保效果。这一过程对提升模型表现、减少误差、提高效率以及增强用户体验至关重要，是推动人工智能技术落地应用的关键所在。
由于 OpenAI模型的训练方式，特定的提示格式效果特别好，可以产生更有用的模型输出。​OpenAI 的官方提示工程指南通常是提示技巧的最佳起点。

提示：
下面我们介绍了一些我们认为效果很好的提示格式，但您可以随意探索不同的格式，它们可能更适合您的任务


**经验和示例**
>注意：“ 类似于`{text input here}` ”是实际文本/上下文的占位符，表示实际要输入的文字。


### 1.使用最新的模型
为了获得最佳效果，建议优先使用最新、性能最强的模型。新模型通常更易于优化提示词，并且在处理复杂任务时表现更出色。

###2. 将指令放在提示符的开头，并使用###或"""这样的分隔符将指令和上下文分开

效果较差❌：
```
将下面的文字总结为最重要的要点列表。
{text input here}
```
效果较好 ✅：
```python
将下面的文字总结为最重要的要点列表:
Text: """
{text input here}
"""
```

### 3. 在描述上下文，中尽可能具体、详细地描述所需的背景、结果、长度、格式、风格等*

在上下文中，尽量具体说明背景、结果、长度、格式、风格等。

效果较差❌：

```
写一首关于 OpenAI 的诗。
```

更好✅：
```
以{著名诗人}的风格写一首关于 OpenAI 的简短励志诗，重点介绍最近的
DALL-E 产品发布（DALL-E 是一个文本到图像的 ML 模型）
```
 

4. 通过示例阐明所需的输出格式
效果较差❌：
```
提取以下文本中提到的实体。提取以下4种实体类型：公司名称、人名、特定主题和主题。
Text：{text}
```
展示并说明 - 当展示特定格式要求时，模型会做出更好的响应。这也使得以编程方式可靠地解析多个输出变得更加容易。

 

更好✅：
```
提取下面文本中提到的重要实体。首先提取所有公司名称，然后提取所有人名，然后提取符合内容的特定主题，最后提取一般的总体主题。
所需格式：
公司名称集合：<使用逗号分隔的公司名称集合>
人名：-||-
特定主题：-||-
一般主题：-||-

文本：{text}
 ```

 

5. 先从零样本（**zero-shot**）开始，然后是少样本（**few-shot**），都不起作用，然后进行微调（**fine-tune**）
✅ zero-shot

```
从以下文本中提取关键字。
文本：{text}
关键字：
```

✅ few-shot - 提供几个示例

```
从下面相应的文本中提取关键词。
文本1：Stripe 提供 API，Web 开发人员可以使用这些 API 将支付处理集成到他们的网站和移动应用程序中。
关键词1：Stripe、支付处理、API、Web 开发人员、网站、移动应用程序
##
文本2：OpenAI 训练了非常擅长理解和生成文本的尖端语言模型。我们的 API 提供对这些模型的访问，可用于解决几乎任何涉及处理语言的任务。
关键词2：OpenAI、语言模型、文本处理、API。
##
文本 3：{text}
关键词3：
```
 注意：在某些模型，这种few-shot并不起作用。

✅微调：在此处查看微调最佳实践。https://platform.openai.com/docs/guides/fine-tuning

 

### 6. 减少“空洞”和不精确的描述
效果较差❌：
```
该产品的描述应该比较简短，只有几句话，不要太多。
```

更好✅：
```
使用3到5个句子的段落来描述该产品。
```

7. 不要只说不该做什么，而要说该做什么
效果较差❌：
```
以下是代理与客户之间的对话。请勿询问用户名或密码。请勿重复。

客户：我无法登录我的帐户。
代理：
```

更好✅：
```
以下是代理与客户之间的对话。代理将尝试诊断问题并提出解决方案，同时避免询问任何与 PII 相关的问题。不要询问 PII（例如用户名或密码），而是让用户参考帮助文章 www.samplewebsite.com/help/faq

客户：我无法登录我的帐户。
代理：
 

 ```

### 8. 代码生成专用 - 使用“引导词”推动模型向特定模式发展

Leading words（引导词） 是指在提示中加入特定的词汇或短语，以引导生成模型朝特定方向输出内容。例如，在编写`Python`代码时，如果提示中包含“import”这个词，模型会更倾向于理解用户是在要求生成Python代码，并可能直接从导入库开始写起。

效果较差：
```
# 编写一个简单的 Python 函数，
# 1. 输入一个英里数
# 2. 将英里转换为公里
```
在下面的代码示例中，添加“import”这样的引导词提示模型应该开始用`Python`编写。（类似地，“ SELECT ”是 SQL 语句开头的一个很好的提示。）

更好✅：
```
# 编写一个简单的 Python 函数，
# 1. 输入一个英里数
# 2. 将英里转换为公里
import
```



### 参数控制

通常，`model`和`temperature`改变模型输出最常用的参数。

* `model`:性能更高的模型通常更昂贵，并且可能具有更高的延迟。
* `temperature`-temperature 是一个控制模型输出的随机性和创造性的参数。

Temperature 是一个控制模型输出的随机性和创造性的参数。
当 temperature 较高时，模型更倾向于选择一些不太可能的词语或生成更不常见的句子结构。这意味着生成的内容会更加随机和富有创造性，但也可能会偏离事实或变得不那么一致。
当 temperature 较低时（尤其是0），模型会选择最有可能的词语或生成最常见的句子结构。这样输出的内容更为保守和稳定，更接近事实或常识。
与“真确性”的关系：
Temperature 的高低会影响输出内容的随机性，但这与内容的“真确性”并不是直接相关的。即使 temperature 设置为较高值，模型生成的内容也可以是创造性的，但并不一定是真实的或基于事实的。
对于需要精确答案或处理事实数据的场景（例如数据提取或问答系统），使用 temperature = 0 是最好的选择。这样模型会更倾向于生成最确定的、最有可能的答案，从而提高结果的准确性和可信度。

max_tokens（最大长度） - 不控制输出的长度，而是对 token 生成的硬性截止限制。理想情况下，您不会经常达到此限制，因为您的模型会在它认为完成时或达到您定义的停止序列时停止。
参考资料：
https://platform.openai.com/docs/guides/prompt-engineering
